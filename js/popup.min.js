var writeUs = document.querySelector(".write-us"), letter = document.querySelector(".letter"), letterClose = document.querySelector(".button-close"), letterForm = document.querySelector(".letter-forms"), letterName = document.querySelector(".letter-name"), letterEmail = document.querySelector(".letter-email"), map = document.querySelector(".maps-popup"), mapJpg = document.querySelector(".maps-little"), closeMap = document.querySelector(".button-close-map"), isStorageSupport = !0, storage = ""; try { storage = localStorage.getItem("letterName") } catch (e) { isStorageSupport = !1 } writeUs.addEventListener("click", function (e) { e.preventDefault(), letter.classList.add("letter-show"), storage ? (letterName.value = storage, letterEmail.focus()) : letterName.focus() }), letterClose.addEventListener("click", function (e) { e.preventDefault(), letter.classList.remove("letter-show"), letter.classList.remove("modal-error") }), letterForm.addEventListener("submit", function (e) { letterName.value && letterEmail.value ? isStorageSupport && localStorage.setItem("letterName", letterName.value) : (e.preventDefault(), letter.classList.remove("modal-error"), letter.offsetWidth, letter.classList.add("modal-error")) }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && (letter.classList.contains("letter-show") ? (e.preventDefault(), letter.classList.remove("letter-show"), letter.classList.remove("modal-error")) : map.classList.contains("maps-show") && (e.preventDefault(), map.classList.remove("maps-show"))) }), mapJpg.addEventListener("click", function (e) { e.preventDefault(), map.classList.add("maps-show") }), closeMap.addEventListener("click", function (e) { e.preventDefault(), map.classList.remove("maps-show") });